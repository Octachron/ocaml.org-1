---
title: Release of OCaml 5.1.0
description: Release of OCaml 5.1.0
date: "2023-09-14"
tags: [ocaml, release]
changelog: |
---

We have the pleasure of celebrating the anniversary of Olympe de Gouges'
"Declaration of the Rights of Woman and of the Female Citizen" by announcing the
release of OCaml version 5.1.0.

Some of the highlights in OCaml 5.1.0 are:

   - Many runtime performance regression and memory-leak fixes (dynlinking, weak array, weak hash sets, GC with idle domains, GC prefetching).
   - Restored support for native code generation on RISC-V and s390x architectures.
   - Restored Cygwin port.
   - Reduced installation size (50% reduction)
   - Compressed compilation artefacts (.cmi, .cmt, .cmti, .cmo, .cma files)
   - 19 error message improvements
   - 14 standard library functions made tail-recursive with Tail-Recursion-Modulo-Cons (TRMC), such as `List.append` and `List.map`.
   - 57 new standard library functions
   - More examples in the standard library documentation
   - 42 bug fixes

OCaml 5.1.0 is still a relatively experimental release compared to the OCaml
4.14 branch. In particular:

   - The POWER port is being tested in the dev version of the compiler.
   - The Windows MSVC port is still unavailable.
   - Ephemeron performances need to be investigated.
   - GC compaction is a work in progress.
   - statmemprof is a work in progress.
   - There are a number of known runtime concurrency bugs (that triggers under
     rare circumstances) 

We are planning to address those regressions, hopefully in the next release OCaml 5.2.0. Meanwhile, the OCaml 4.14 branch will be maintained and the next release on the OCaml 4.14 branch, OCaml 4.14.2, should follow this release in the upcoming months.


Please report any unexpected behaviours on the [OCaml issue tracker](https://github.com/ocaml/ocaml/issues)
and post any questions or comments you might have on our
[discussion forums](https://discuss.ocaml.org).




The full list of changes can be found in the changelog below.

---

## Installation Instructions

The base compiler can be installed as an opam switch with the following commands:
```bash
opam update
opam switch create 5.1.0
```

The source code for the release candidate is also directly available on:

* [GitHub](https://github.com/ocaml/ocaml/archive/5.1.0.tar.gz)
* [OCaml archives at Inria](https://caml.inria.fr/pub/distrib/ocaml-5.1/ocaml-5.1.0.tar.gz)

### Fine-Tuned Compiler Configuration

If you want to tweak the configuration of the compiler, you can switch to the option variant with:
```bash
opam update
opam switch create <switch_name> ocaml-variants.5.1.0+options <option_list>
```
where `<option_list>` is a comma-separated list of `ocaml-option-*` packages. For instance, for a `flambda` and `no-flat-float-array` switch:
```bash
opam switch create 5.1.0+flambda+nffa ocaml-variants.5.0.0+options ocaml-option-flambda ocaml-option-no-flat-float-array
```
